<!DOCTYPE html>

<html>
<head>
<style>
h3 {text-align: center;}
</style>
<link rel="icon" href="/assets/img/main_icon.ico" type="image/x-icon">
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <title>Amin Fadaeinejad | Citi Bike Analysis</title>
  <meta name="description" content="This is the personal website of Amin Fadaeinejad">

  <!-- Fonts and Icons -->
  <link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700|Roboto+Slab:100,300,400,500,700|Material+Icons" />

  <!-- CSS Files -->
  <link rel="stylesheet" href="/assets/css/all.min.css">
  <link rel="stylesheet" href="/assets/css/academicons.min.css">
  <link rel="stylesheet" href="/assets/css/main.css">
  <!-- <link rel="canonical" href="/projects/2_livex/"> -->
</head>
<body>
  <!-- Header -->
  <nav id="navbar" class="navbar fixed-top navbar-expand-md grey lighten-5 z-depth-1 navbar-light">
    <div class="container-fluid p-0">
      
        <a class="navbar-brand title font-weight-lighter" href="/"><span class="font-weight-bold">Amin</span> Fadaeinejad</a>
      
      <button class="navbar-toggler ml-auto" type="button" data-toggle="collapse" data-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
        <span class="navbar-toggler-icon"></span>
      </button>
      <div class="collapse navbar-collapse text-right" id="navbarNav">
        <ul class="navbar-nav ml-auto flex-nowrap">
          <li class="nav-item ">
            <a class="nav-link" href="/">
              About
              
            </a>
          </li>
          
            
          
            
              <li class="nav-item ">
                  <a class="nav-link" href="/cv/">
                    Curriculum Vitae
                    
                  </a>
              </li>
            
          
            
          
            
              <li class="nav-item ">
                  <a class="nav-link" href="/projects/">
                    Projects
                    
                  </a>
              </li>
            
          
            
              <li class="nav-item ">
                  <a class="nav-link" href="/publications/">
                    Publications
                    
                  </a>
              </li>
            
          <li class="nav-item ">
                  <a class="nav-link" href="/talks/">
                    Talks
                    
                  </a>
              </li>
            
              <li class="nav-item ">
                  <a class="nav-link" href="/teaching/">
                    Teaching
                    
                  </a>
              </li>
            
          
            
          
        </ul>
      </div>
    </div>
  </nav>

  <!-- Scrolling Progress Bar -->
  <progress id="progress" value="0">
    <div class="progress-container">
      <span class="progress-bar"></span>
    </div>
  </progress>

  <!-- Content -->
  <div class="content">
    
  <h1>Citi Bike Analysis</h1>

<p><br /></p>
<div style="align: left; text-align:center;">
    <img src="/assets/img/First.PNG" width="100%" height="auto"  id="figure8" />
    <!-- <div class="caption" >Figure 1: My result from reproducing the <a href="https://arxiv.org/pdf/1312.4659.pdf">DeepPose</a></div> -->
</div>

<p><br /></p>

<h2 id="more-information">1. Introduction</h2>

<p>
Bicycling is an activity that yields many benefits. Riders improve their health through exercise, and traffic congestion is reduced when riders move out of cars, resulting in a corresponding reduction in pollution from carbon emissions. In recent years, Bike Sharing has become popular in a growing number of cities worldwide. The NYC “CitiBike” bicycle sharing scheme went live in midtown and downtown Manhattan in 2013 and has since expanded, as measured by daily ridership and the expanding geographic footprint, incorporating an increasing number of “docking stations” as the system welcomes riders in Brooklyn, Queens, and previously unserved northern parts of Manhattan.</p>

<p>
One problem that many bikeshare systems face is money. An increase in the number of riders who want to use the system necessitates the purchase of more bikes and their deployment to accommodate them. Heavy ridership induces wear on the bikes, requiring more frequent repairs. However, an increase in the number of trips does not necessarily translate to an increase in revenue because clever riders can avoid paying surcharges by keeping the length of each trip below a specified limit (either 30 or 45 minutes, depending on user category).</p>

<p>
We seek to examine Citibike trip data to extract meaningful relationships and conclusions that will provide insight for executive sectors. Our findings can be categorized under three headings: usage trends, common locations, and expansion policy. In the first category, we study usage trends on multiple scales ranging from hourly to yearly. The second category is dedicated to finding geographical relationships between commonly used stations, and the last category suggests an expansion policy based on the current station density and frequency of trips made.</p>


<h2 id="more-information">2. Interactive Data Visualization</h2>

One of the challenges of visualizing rich data is the static scale of figures. For a data set as huge as the one we are working with, there is useful information at different scales. To address this problem, we used an interactive visualization library called <a href="https://python-visualization.github.io/folium/">Folium</a>. A demo of such interactive visualization can be seen here.

<ul>
  <li>The top 50 stations for <a href="/assets/css/citibike/StartCircle.html">starting</a> and <a href="/assets/css/citibike/EndCircle.html">ending</a>.</li>

  


  <li>The trend of flow for each station, shows the number of bikes that entered and left that station, color red indicates that the number of bikes left is greater than the number of bikes that have entered. Color green indicates that the number of bikes entered is greater than the number of bikes that have left. <a href="/assets/css/citibike/MapDiff.html">[Demo link]</a>    
  </li>
  

    <li>This shows the trend of magic trips (The trips that have been done by the organization itself since no trip records were available for them). Color red indicates that the number of bikes left is greater than the number of bikes that have entered. Color green indicates that the number of bikes entered is greater than the number of bikes that have left.<a href="/assets/css/citibike/MagMap.html">[Demo link]</a> </li>

     <p><br /></p>
  <iframe width="100%" height="400" src="/assets/css/citibike/MagMap.html"></iframe>
    <p><br /></p>


</ul>


<h2 id="more-information">3. Finding</h2>



<h4 id="overview">3.1 Usage Trend</h4>

In the past few years, the trend of using bikes has increased. In <a href="#figure1">figure 1</a> you can see the monthly records of the number of bikes, the number of stations, and the number of trips recorded


<div style="align: left; text-align:center;">
    <img src="/assets/img/citi_1.jpg" width="80%" height="auto"  id="figure1" />
    <img src="/assets/img/citi_2.jpg" width="80%" height="auto"  id="figure1" />
    <img src="/assets/img/citi_3.jpg" width="80%" height="auto"  id="figure1" />
    <div class="caption" >Figure 1</div>
</div>


On the left, <a href="#figure2">figure 2</a> shows the times of day when trips begin and end. It can be observed that there are peaks around working hours. On the right, we display a histogram of the trip durations. This makes sense because the policy charges extra if the bike is used for more than 30 minutes, requiring the bike to be re-registered for further use.
<div style="align: left; text-align:center;">
    <img src="/assets/img/Picture2.PNG" width="80%" height="auto"  id="figure2" />
    <div class="caption" >Figure 2</div>
</div>




<h4 id="overview">3.2 Stations’ Location Trends</h4>

After analyzing the trend for allocating the bike stations using <a href="#figure3">figure 3</a> showing the location of the bike stations in 2013 and 2022, it turns out that, regardless of several potential aspects, e.g., the distribution of population and the age of people, the main factors to determine the coordinates of the stations are the Number of House Units and White-Collar Occupations. In this figure,there are two set of maps related to 2013 and 2022. from left to right, each set is representing the location of stations, location of the stations considering the house units, and location of stations by taking the White Collar Occupations into account, respectively. It is obvious that increasing the number of stations from Manhattan to the north and east is a solution to deal with the heavy traffic and rush hours in New York by encouraging people to use bikes instead of private cars and even other types of public transportation. Accordingly, it is reasonable that the number of bikes used on each day of the week is similar to the other weekdays as a large number of the trips have been devoted to commuting to work. 

Another interesting point is that the number of new stations and the area they are covering is suddenly boosted in 2020 which is the year that the pandemic started (This fact can be confirmed by Phase 3 of the Major Citibike Expansion <a href="https://ride.citibikenyc.com/blog/major-citi-bike-expansion-map-revealed">[link]</a>. In this regard, it is safe to say that the pandemic was a fortune for the authorities to improve the infrastructures faster and increase the number of stations and cover more areas including Queens and a part of Bronx. 


  <p><br /></p>
  <iframe width="100%" height="400" src="/assets/css/citibike/MapDiff.html" id="figure3"></iframe>
  <div class="caption" style="align: left; text-align:center;" >Figure 3</div>
    <p><br /></p>




<h4 id="overview">3.3 Effect of Pandemic</h4>

From <a href="#figure4">figure 4</a>, which shows the number of trips per day from January 1st, 2019 to January 1st, 2021, it is clear that the general pattern in 2020 is almost the same as in 2019, except for a period of time between March 14th and April 30th, 2020, due to the increasing number of deaths caused by Covid-19. Additionally, another study published in June 2021 confirms the fact that the usage of Citibikes recovered very fast, even during the peaks of the pandemic, in comparison with other types of public transportation such as the subway (Wang 2021 [15]). The reason is not surprising, as during the pandemic, people preferred to commute alone for the sake of safety, rather than being on a bus with other people.



<div style="align: left; text-align:center;">
    <img src="/assets/img/Picture1.png" width="80%" height="auto"  id="figure4" />
    <div class="caption" >Figure 4</div>
</div>


<h4 id="overview">3.4 Commonly Used Locations</h4>

In <a href="#figure5">figure 5</a>, maps are shown indicating the top 50 most frequently used starting and ending stations in 2021. As can be seen, all of them are located in Manhattan, although there are stations in other areas such as Queens, just to name a few. The information obtained from these maps has been used in the next subsection to demonstrate interesting discoveries.

<p><br /></p>
  <iframe width="49%" height="400" src="/assets/css/citibike/StartCircle.html"></iframe>
  <iframe width="49%" height="400" src="/assets/css/citibike/EndCircle.html" id="figure5"></iframe>
  <div class="caption" style="align: left; text-align:center;" >Figure 5</div>
  <p><br /></p>


<h4 id="overview">3.5 Proposed Expansion Policy</h4>


 The expansion of bike stations was from Manhattan to the north and east to cover more areas. However, in this section, a visualization analysis for expanding bike stations to support the most used stations is proposed. By putting Figure <a href="#figure5">figure 5</a> into a heat map illustrating the density of stations in different areas of New York and zooming in, it can be seen that a number of commonly used stations are located in areas where there are not enough stations. In this regard, these areas have the potential to have more stations and, as a result, more bikes (see <a href="/assets/css/citibike/StartHeat.html">[Demo]</a>).

<video controls width="100%" height="auto">
  <source  src="/assets/img/citi_gif.mp4" type="video/mp4">
</video>


<h2 id="overview">4. Conclusion</h2>

In conclusion, we can say that there is indeed a wealth of information within this dataset, much of which has yet to be explored. In our study, which was performed within the scope of a graduate-level course, we found the following:


<ul>
  <li>The number of active bikes and stations has seen constant growth throughout these 103 months of data collection, with an exceptionally fast rate in 2020.</li>
  <li>The number of trips made follows a seasonal trend in which more trips are made during warm seasons, in contrast to cold seasons.</li>
  <li>Most trips start and end within the traffic rush hours, meaning that this bike-sharing system is used as a solution for NYC traffic congestion.</li>
  <li>Most trips take more than 15 minutes, while a standard ride is expected to be 30 minutes according to the company's policy. This suggests that administrators can adjust the trip standard duration to further increase overall profitability. This also indicates a need for more flexible usage plans for customers who use these bikes for a longer duration.</li>
  <li>These bikes are used similarly throughout the week, which means that the maintenance schedule should be adjusted to other factors such as traffic congestion on streets rather than bike usage in general.</li>
  <li>The network expansion policy is correlated with housing unit density and office locations.</li>
  <li>Although the pandemic imposed a radical drop in the number of trips made in 2020, bikeshare has recovered its usual trend, whereas many public transportation systems still lack safety standards.</li>
  <li>Commonly used stations are located within the financial district of Manhattan.</li>
  <li>The most used trip is a path around Central Park.</li>
  <li>Stations that are in the central region of Manhattan sink (bikes end up there), while the stations in the western area of Queens are a source (bikes start from there).</li>
  <li>Bikes are relocated via network admins for allocation purposes as well as maintenance.</li>
  <li>Bike relocations follow the reversed trend in terms of allocation compared to usual trips.</li>
  <li>Interactive visualization recovers some information that is hidden with static visualization.</li>

</ul>


<h2 id="more-information">More infomation</h2>

<ul>
  <li>Code: <a href="https://github.com/SajjadPSavoji/CitiBikeNYC">link</a> </li>
  <li>Report: <a href="/assets/pdf/Projects-Reports/Projects-Reports.pdf">link</a> </li>
  <li>Dataset: <a href="https://ride.citibikenyc.com/system-data">link</a> </li>
</ul>



  </div>

  <!-- Footer -->
  <footer>
    &copy; Copyright 2023 Amin Fadaeinejad.
    
    
  </footer>

  <!-- Core JavaScript Files -->
  <script src="/assets/js/jquery.min.js" type="text/javascript"></script>
  <script src="/assets/js/popper.min.js" type="text/javascript"></script>
  <script src="/assets/js/bootstrap.min.js" type="text/javascript"></script>
  <script src="/assets/js/mdb.min.js" type="text/javascript"></script>
  <script async="" src="https://cdnjs.cloudflare.com/ajax/libs/masonry/4.2.2/masonry.pkgd.min.js" integrity="sha384-GNFwBvfVxBkLMJpYMOABq3c+d3KnQxudP/mGPkzpZSTYykLBNsZEnG2D9G/X/+7D" crossorigin="anonymous"></script>
  <script src="https://unpkg.com/imagesloaded@4/imagesloaded.pkgd.min.js"></script>
  <script type="text/javascript" async src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/latest.js?config=TeX-MML-AM_CHTML"></script>
  <script src="/assets/js/common.js"></script>

  <!-- Scrolling Progress Bar -->
  <script type="text/javascript">
    $(document).ready(function() {
      var navbarHeight = $('#navbar').outerHeight(true);
      $('body').css({ 'padding-top': navbarHeight });
      $('progress-container').css({ 'padding-top': navbarHeight });
      var progressBar = $('#progress');
      progressBar.css({ 'top': navbarHeight });
      var getMax = function() { return $(document).height() - $(window).height(); }
      var getValue = function() { return $(window).scrollTop(); }   
      // Check if the browser supports the progress element.
      if ('max' in document.createElement('progress')) {
        // Set the 'max' attribute for the first time.
        progressBar.attr({ max: getMax() });
        progressBar.attr({ value: getValue() });
    
        $(document).on('scroll', function() {
          // On scroll only the 'value' attribute needs to be calculated.
          progressBar.attr({ value: getValue() });
        });

        $(window).resize(function() {
          var navbarHeight = $('#navbar').outerHeight(true);
          $('body').css({ 'padding-top': navbarHeight });
          $('progress-container').css({ 'padding-top': navbarHeight });
          progressBar.css({ 'top': navbarHeight });
          // On resize, both the 'max' and 'value' attributes need to be calculated.
          progressBar.attr({ max: getMax(), value: getValue() });
        });
      } else {
        var max = getMax(), value, width;
        var getWidth = function() {
          // Calculate the window width as a percentage.
          value = getValue();
          width = (value/max) * 100;
          width = width + '%';
          return width;
        }
        var setWidth = function() { progressBar.css({ width: getWidth() }); };
        setWidth();
        $(document).on('scroll', setWidth);
        $(window).on('resize', function() {
          // Need to reset the 'max' attribute.
          max = getMax();
          setWidth();
        });
      }
    });
  </script>

  <!-- Code Syntax Highlighting -->
  <link href="https://fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet">
  <script src="/assets/js/highlight.pack.js"></script>
  <script>hljs.initHighlightingOnLoad();</script>

  <!-- Script Used for Randomizing the Projects Order -->
  <!-- <script type="text/javascript">
    $.fn.shuffleChildren = function() {
      $.each(this.get(), function(index, el) {
        var $el = $(el);
        var $find = $el.children();

        $find.sort(function() {
          return 0.5 - Math.random();
        });

        $el.empty();
        $find.appendTo($el);
      });
    };
    $("#projects").shuffleChildren();
  </script> -->

  <!-- Project Cards Layout -->
  <script type="text/javascript">
    var $grid = $('#projects');

    // $grid.masonry({ percentPosition: true });
    // $grid.masonry('layout');

    // Trigger after images load.
    $grid.imagesLoaded().progress(function() {
      $grid.masonry({ percentPosition: true });
      $grid.masonry('layout');
    });
  </script>

  <!-- Enable Tooltips -->
  <script type="text/javascript">
    $(function () {
      $('[data-toggle="tooltip"]').tooltip()
    })
  </script>

  <!-- Google Analytics -->
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
    ga('create', '', 'auto');
    ga('send', 'pageview');
  </script>
</body>
</html>
